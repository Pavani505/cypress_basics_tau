const{Transform:Transform}=require("stream");class KeepaliveMessageFilter extends Transform{constructor(e){super(e),this._keepAliveMessage=e.keepAliveMessage,this._waitForChunkResolver=null,this._waitForChunkPromise=new Promise((e=>this._waitForChunkResolver=e))}_transform(e,s,r){const t=e;e.length===this._keepAliveMessage.length&&t.toString()===this._keepAliveMessage||(this._waitForChunkResolver&&(this._waitForChunkResolver(),this._waitForChunkResolver=null),this.push(e)),r()}async waitForChunk(){return this._waitForChunkPromise}}module.exports={KeepaliveMessageFilter:KeepaliveMessageFilter};